<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maria's Kitchen â€” Recipes & Stories</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=Lato:wght@300;400;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
<style>
:root {
  --cream: #fdf8f0;
  --warm-white: #fffef9;
  --terracotta: #c8603a;
  --terracotta-light: #e07a54;
  --terracotta-dark: #a04828;
  --sage: #7a9b76;
  --sage-light: #a8c4a4;
  --charcoal: #2c2416;
  --brown: #5a3e28;
  --gold: #d4a843;
  --gold-light: #f0c96a;
  --light-gray: #f4ede2;
  --border: #e8d8c4;
}
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family: 'Lato', sans-serif; background: var(--cream); color: var(--charcoal); min-height: 100vh; }

/* NAV */
nav {
  background: var(--charcoal);
  padding: 0 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: 0 4px 20px rgba(44,36,22,0.3);
}
.logo { font-family: 'Dancing Script', cursive; font-size: 2rem; color: var(--gold); padding: 16px 0; text-decoration: none; cursor:pointer; }
.nav-links { display: flex; gap: 8px; align-items: center; flex-wrap:wrap; }
.nav-links a {
  color: #d4c9b8; text-decoration: none; padding: 8px 18px; border-radius: 4px;
  font-size: 0.95rem; letter-spacing: 0.05em; text-transform: uppercase; font-weight: 700;
  transition: all 0.3s; cursor: pointer;
}
.nav-links a:hover, .nav-links a.active { color: var(--gold); background: rgba(212,168,67,0.1); }
.admin-btn-nav { background: var(--terracotta) !important; color: white !important; padding: 8px 16px !important; border-radius: 4px; font-size: 0.8rem !important; }
.admin-btn-nav:hover { background: var(--terracotta-dark) !important; }

/* ADMIN BAR */
.admin-bar { background: var(--terracotta-dark); color: white; text-align: center; padding: 10px; font-size: 0.85rem; display: none; }
.admin-mode .admin-bar { display: block; }
.logout-btn { background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.4); padding: 4px 14px; border-radius: 4px; cursor: pointer; font-size: 0.8rem; margin-left: 12px; }

/* SECTIONS */
.section { display: none; }
.section.active { display: block; }

/* HERO */
.hero { background: linear-gradient(135deg, var(--charcoal) 0%, var(--brown) 100%); min-height: 70vh; display: flex; align-items: center; justify-content: center; text-align: center; position: relative; overflow: hidden; }
.hero::before { content: ''; position: absolute; inset: 0; background: url('https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=1400&q=80') center/cover no-repeat; opacity: 0.25; }
.hero-content { position: relative; z-index: 1; max-width: 700px; padding: 40px 20px; }
.hero-tag { display: inline-block; background: var(--gold); color: var(--charcoal); padding: 6px 20px; border-radius: 20px; font-size: 0.8rem; font-weight: 700; letter-spacing: 0.15em; text-transform: uppercase; margin-bottom: 24px; }
.hero h1 { font-family: 'Playfair Display', serif; font-size: clamp(2.5rem, 6vw, 4.5rem); color: white; line-height: 1.1; margin-bottom: 20px; }
.hero p { color: #c8b89a; font-size: 1.15rem; line-height: 1.7; margin-bottom: 36px; }
.hero-btns { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }

/* BUTTONS */
.btn-primary { background: var(--terracotta); color: white; padding: 14px 32px; border: none; border-radius: 4px; font-size: 1rem; font-weight: 700; cursor: pointer; text-transform: uppercase; letter-spacing: 0.05em; transition: all 0.3s; text-decoration: none; display: inline-block; }
.btn-primary:hover { background: var(--terracotta-dark); transform: translateY(-2px); }
.btn-secondary { background: transparent; color: white; padding: 14px 32px; border: 2px solid rgba(255,255,255,0.4); border-radius: 4px; font-size: 1rem; font-weight: 700; cursor: pointer; text-transform: uppercase; letter-spacing: 0.05em; transition: all 0.3s; }
.btn-secondary:hover { border-color: white; background: rgba(255,255,255,0.1); }

/* PAGE HEADER */
.page-header { background: var(--charcoal); padding: 60px 40px; text-align: center; position: relative; overflow: hidden; }
.page-header::before { content: ''; position: absolute; inset: 0; opacity: 0.1; background: repeating-linear-gradient(45deg, var(--gold) 0, var(--gold) 1px, transparent 0, transparent 50%) 0 0 / 20px 20px; }
.page-header h1 { font-family: 'Playfair Display', serif; font-size: 3rem; color: white; position: relative; }
.page-header p { color: #a09080; margin-top: 12px; font-size: 1.1rem; position: relative; }

/* CONTAINER */
.container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }

/* INLINE EDIT CONTROLS */
.edit-bar {
  display: none;
  gap: 8px;
  margin-top: 12px;
  flex-wrap: wrap;
  align-items: center;
}
.admin-mode .edit-bar { display: flex; }
.edit-bar .eb-btn {
  padding: 6px 16px;
  border: none;
  border-radius: 4px;
  font-size: 0.8rem;
  font-weight: 700;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  transition: all 0.2s;
}
.eb-edit { background: var(--gold); color: var(--charcoal); }
.eb-save { background: var(--sage); color: white; display:none; }
.eb-cancel { background: #ccc; color: #333; display:none; }
.eb-delete { background: #e74c3c; color: white; }
.eb-add { background: var(--terracotta); color: white; }

[contenteditable="true"] { outline: none; border: 2px dashed var(--gold) !important; border-radius: 4px; padding: 2px 6px; min-height: 20px; }
[contenteditable="false"] { border: none !important; }

/* RECIPES GRID */
.recipes-intro { padding: 60px 24px 20px; text-align: center; }
.recipes-intro h2 { font-family: 'Playfair Display', serif; font-size: 2.2rem; color: var(--brown); margin-bottom: 12px; }
.recipes-intro p { color: #7a6a58; max-width: 600px; margin: 0 auto; font-size: 1.05rem; }
.recipes-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 28px; padding: 40px 24px 60px; max-width: 1200px; margin: 0 auto; }

.recipe-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(44,36,22,0.08); transition: transform 0.3s, box-shadow 0.3s; }
.recipe-card:hover { transform: translateY(-6px); box-shadow: 0 12px 40px rgba(44,36,22,0.15); }
.recipe-card-clickable { cursor: pointer; }
.recipe-img { width: 100%; height: 220px; object-fit: cover; }
.recipe-body { padding: 20px; }
.recipe-tag { display: inline-block; background: var(--light-gray); color: var(--terracotta); padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 10px; }
.recipe-card h3 { font-family: 'Playfair Display', serif; font-size: 1.3rem; color: var(--charcoal); margin-bottom: 8px; line-height: 1.3; }
.recipe-card p { color: #7a6a58; font-size: 0.9rem; line-height: 1.6; }
.recipe-meta { display: flex; gap: 16px; margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--border); }
.recipe-meta span { font-size: 0.8rem; color: #9a8878; }
.recipe-meta strong { color: var(--charcoal); }

/* RECIPE DETAIL PAGE */
#section-recipe-detail { display:none; }
#section-recipe-detail.active { display:block; }
.recipe-detail-hero { width: 100%; height: 400px; object-fit: cover; }
.recipe-detail-body { max-width: 900px; margin: 0 auto; padding: 40px 24px 80px; }
.recipe-detail-body h1 { font-family: 'Playfair Display', serif; font-size: 2.6rem; color: var(--charcoal); margin-bottom: 16px; }
.recipe-detail-meta { display: flex; gap: 24px; flex-wrap: wrap; margin-bottom: 24px; padding-bottom: 24px; border-bottom: 2px solid var(--border); }
.recipe-detail-meta span { font-size: 0.95rem; color: #7a6a58; }
.recipe-detail-meta strong { color: var(--charcoal); }
.recipe-detail-content { color: #4a3a2a; line-height: 1.85; font-size: 1rem; }
.recipe-detail-content h3 { font-family: 'Playfair Display', serif; font-size: 1.4rem; color: var(--brown); margin: 28px 0 12px; }
.recipe-detail-content p { margin-bottom: 16px; }
.recipe-detail-content ul, .recipe-detail-content ol { padding-left: 28px; margin-bottom: 16px; }
.recipe-detail-content li { margin-bottom: 8px; }
.back-btn { display: inline-flex; align-items: center; gap: 8px; color: var(--terracotta); font-weight: 700; cursor: pointer; margin: 24px; font-size: 0.95rem; text-transform: uppercase; letter-spacing: 0.05em; background: none; border: none; }
.back-btn:hover { color: var(--terracotta-dark); }

/* BLOGS */
.blogs-controls { display: flex; justify-content: space-between; align-items: center; padding: 30px 24px; max-width: 1200px; margin: 0 auto; flex-wrap: wrap; gap: 16px; }
.blogs-controls h2 { font-family: 'Playfair Display', serif; font-size: 1.8rem; color: var(--brown); }
.blogs-grid { max-width: 1200px; margin: 0 auto; padding: 0 24px 60px; display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 28px; }

/* BLOG CARD (list view) */
.blog-list-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(44,36,22,0.08); transition: transform 0.3s, box-shadow 0.3s; display: flex; flex-direction: column; }
.blog-list-card:hover { transform: translateY(-4px); box-shadow: 0 12px 40px rgba(44,36,22,0.15); }
.blog-list-card-img { width: 100%; height: 200px; object-fit: cover; cursor: pointer; }
.blog-list-card-body { padding: 24px; flex:1; display:flex; flex-direction:column; }
.blog-list-card-meta { display: flex; gap: 12px; align-items: center; margin-bottom: 12px; flex-wrap: wrap; }
.blog-category { background: var(--terracotta); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.72rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; }
.blog-date { color: #9a8878; font-size: 0.82rem; }
.blog-list-card h3 { font-family: 'Playfair Display', serif; font-size: 1.25rem; color: var(--charcoal); margin-bottom: 10px; line-height: 1.3; cursor: pointer; }
.blog-list-card h3:hover { color: var(--terracotta); }
.blog-list-card p { color: #7a6a58; font-size: 0.9rem; line-height: 1.6; flex:1; }
.blog-read-more { display: inline-block; margin-top: 16px; color: var(--terracotta); font-weight: 700; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.05em; cursor: pointer; border: none; background: none; }
.blog-read-more:hover { color: var(--terracotta-dark); }

/* BLOG DETAIL */
#section-blog-detail { display:none; }
#section-blog-detail.active { display:block; }
.blog-detail-hero { width: 100%; height: 420px; object-fit: cover; }
.blog-detail-body { max-width: 900px; margin: 0 auto; padding: 40px 24px 80px; }
.blog-detail-top { display: flex; gap: 16px; align-items: center; flex-wrap: wrap; margin-bottom: 20px; }
.blog-detail-body h1 { font-family: 'Playfair Display', serif; font-size: 2.5rem; color: var(--charcoal); line-height: 1.2; margin-bottom: 24px; }
.author-line { display: flex; align-items: center; gap: 12px; margin-bottom: 32px; padding-bottom: 24px; border-bottom: 2px solid var(--border); }
.author-avatar { width: 44px; height: 44px; border-radius: 50%; object-fit: cover; border: 3px solid var(--gold); }
.author-info { font-size: 0.9rem; }
.author-info strong { color: var(--charcoal); display: block; }
.author-info span { color: #9a8878; }
.blog-detail-content { color: #4a3a2a; line-height: 1.85; font-size: 1rem; }
.blog-detail-content h3 { font-family: 'Playfair Display', serif; font-size: 1.4rem; color: var(--brown); margin: 28px 0 12px; }
.blog-detail-content p { margin-bottom: 16px; }
.blog-img-inline { width: 100%; border-radius: 8px; margin: 20px 0; height: 280px; object-fit: cover; }
.key-takeaways { background: var(--light-gray); border-left: 4px solid var(--gold); border-radius: 0 8px 8px 0; padding: 24px; margin: 28px 0; }
.key-takeaways h4 { font-family: 'Playfair Display', serif; font-size: 1.1rem; color: var(--brown); margin-bottom: 12px; }
.key-takeaways ul { list-style: none; padding: 0; }
.key-takeaways li { padding: 6px 0; padding-left: 20px; position: relative; color: #4a3a2a; }
.key-takeaways li::before { content: 'âœ¦'; position: absolute; left: 0; color: var(--gold); font-size: 0.7rem; top: 9px; }
.faq-section { margin-top: 32px; }
.faq-section h3 { font-family: 'Playfair Display', serif; font-size: 1.6rem; color: var(--brown); margin-bottom: 20px; }
.faq-item { border: 1px solid var(--border); border-radius: 8px; margin-bottom: 12px; overflow: hidden; }
.faq-q { padding: 16px 20px; background: var(--warm-white); cursor: pointer; font-weight: 700; color: var(--charcoal); display: flex; justify-content: space-between; align-items: center; transition: background 0.2s; }
.faq-q:hover { background: var(--light-gray); }
.faq-q span.faq-icon { font-size: 1.2rem; color: var(--terracotta); }
.faq-a { padding: 0 20px; max-height: 0; overflow: hidden; transition: max-height 0.3s ease, padding 0.3s; color: #5a4a38; line-height: 1.7; font-size: 0.95rem; }
.faq-a.open { max-height: 300px; padding: 16px 20px; }
.conclusion-box { background: linear-gradient(135deg, var(--charcoal) 0%, var(--brown) 100%); border-radius: 12px; padding: 32px; margin-top: 32px; }
.conclusion-box h3 { font-family: 'Playfair Display', serif; font-size: 1.4rem; color: var(--gold); margin-bottom: 12px; }
.conclusion-box p { color: #c8b89a; line-height: 1.8; }

/* ABOUT */
.about-section { max-width: 1000px; margin: 0 auto; padding: 60px 24px; }
.about-hero { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center; margin-bottom: 60px; }
.about-img-wrap { position: relative; }
.about-img-wrap img { width: 100%; border-radius: 12px; box-shadow: 0 20px 60px rgba(44,36,22,0.2); }
.about-img-wrap::before { content: ''; position: absolute; top: -16px; left: -16px; right: 16px; bottom: 16px; border: 3px solid var(--gold); border-radius: 12px; z-index: -1; }
.about-text h2 { font-family: 'Dancing Script', cursive; font-size: 1.2rem; color: var(--terracotta); margin-bottom: 8px; }
.about-text h1 { font-family: 'Playfair Display', serif; font-size: 2.8rem; color: var(--charcoal); margin-bottom: 20px; line-height: 1.1; }
.about-text p { color: #5a4a38; line-height: 1.8; margin-bottom: 16px; }
.about-stats { display: grid; grid-template-columns: repeat(3,1fr); gap: 24px; background: var(--charcoal); border-radius: 12px; padding: 36px; margin-bottom: 48px; text-align: center; }
.stat-item h3 { font-family: 'Playfair Display', serif; font-size: 2.5rem; color: var(--gold); }
.stat-item p { color: #a09080; font-size: 0.9rem; margin-top: 4px; }
.about-values { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px,1fr)); gap: 24px; }
.value-card { background: white; border-radius: 12px; padding: 28px; border-top: 4px solid var(--terracotta); box-shadow: 0 4px 20px rgba(44,36,22,0.06); }
.value-card img { width: 60px; height: 60px; border-radius: 8px; object-fit: cover; margin-bottom: 16px; }
.value-card h3 { font-family: 'Playfair Display', serif; font-size: 1.2rem; color: var(--charcoal); margin-bottom: 8px; }
.value-card p { color: #7a6a58; font-size: 0.9rem; line-height: 1.6; }

/* CONTACT */
.contact-section { max-width: 900px; margin: 0 auto; padding: 60px 24px; display: grid; grid-template-columns: 1fr 1.5fr; gap: 60px; }
.contact-info h2 { font-family: 'Playfair Display', serif; font-size: 2rem; color: var(--charcoal); margin-bottom: 16px; }
.contact-info p { color: #7a6a58; line-height: 1.7; margin-bottom: 28px; }
.contact-detail { display: flex; align-items: flex-start; gap: 14px; margin-bottom: 20px; }
.contact-detail img { width: 48px; height: 48px; border-radius: 8px; object-fit: cover; flex-shrink: 0; }
.contact-detail strong { color: var(--charcoal); display: block; margin-bottom: 4px; }
.contact-detail span { color: #7a6a58; font-size: 0.9rem; }
.contact-form { background: white; border-radius: 16px; padding: 40px; box-shadow: 0 4px 24px rgba(44,36,22,0.08); }
.contact-form h3 { font-family: 'Playfair Display', serif; font-size: 1.6rem; color: var(--charcoal); margin-bottom: 24px; }
.form-group { margin-bottom: 20px; }
.form-group label { display: block; font-size: 0.85rem; font-weight: 700; color: var(--charcoal); margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.05em; }
.form-group input, .form-group textarea, .form-group select { width: 100%; padding: 12px 16px; border: 2px solid var(--border); border-radius: 8px; font-family: 'Lato', sans-serif; font-size: 0.95rem; color: var(--charcoal); background: var(--cream); transition: border-color 0.3s; outline: none; }
.form-group input:focus, .form-group textarea:focus, .form-group select:focus { border-color: var(--terracotta); }
.form-group textarea { height: 130px; resize: vertical; }
.submit-btn { background: var(--terracotta); color: white; border: none; padding: 14px 36px; border-radius: 8px; font-size: 1rem; font-weight: 700; cursor: pointer; width: 100%; transition: all 0.3s; text-transform: uppercase; letter-spacing: 0.05em; }
.submit-btn:hover { background: var(--terracotta-dark); }

/* MODAL */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 2000; display: none; align-items: center; justify-content: center; padding: 20px; }
.modal-overlay.open { display: flex; }
.modal { background: white; border-radius: 16px; max-width: 780px; width: 100%; max-height: 92vh; overflow-y: auto; padding: 40px; }
.modal h2 { font-family: 'Playfair Display', serif; font-size: 1.8rem; color: var(--charcoal); margin-bottom: 24px; }
.modal-close { float: right; background: none; border: none; font-size: 1.8rem; cursor: pointer; color: #aaa; line-height: 1; margin-top: -8px; }
.modal-close:hover { color: var(--charcoal); }

/* EDITOR TABS */
.editor-tabs { display: flex; gap: 8px; margin-bottom: 20px; }
.editor-tab { padding: 8px 20px; border: 2px solid var(--border); border-radius: 4px; cursor: pointer; font-weight: 700; font-size: 0.85rem; background: var(--cream); color: var(--charcoal); transition: all 0.2s; }
.editor-tab.active { background: var(--terracotta); border-color: var(--terracotta); color: white; }
.editor-panel { display: none; }
.editor-panel.active { display: block; }
.modal-actions { display: flex; gap: 12px; margin-top: 20px; flex-wrap:wrap; }
.modal-save { background: var(--terracotta); color: white; border: none; padding: 12px 28px; border-radius: 8px; font-weight: 700; cursor: pointer; text-transform: uppercase; letter-spacing: 0.05em; }
.modal-cancel { background: #eee; color: #666; border: none; padding: 12px 28px; border-radius: 8px; font-weight: 700; cursor: pointer; }

.home-editable-wrap { position: relative; }
.admin-mode .home-editable-wrap:hover::after { content: 'Click Edit to modify'; position: absolute; top: 8px; right: 8px; background: var(--gold); color: var(--charcoal); font-size: 0.7rem; padding: 2px 8px; border-radius: 4px; font-weight: 700; pointer-events: none; }

/* FEATURED SECTION */
.featured-section { padding: 60px 24px; max-width: 1200px; margin: 0 auto; }
.featured-section h2 { font-family: 'Playfair Display', serif; font-size: 2.2rem; color: var(--brown); margin-bottom: 8px; }
.featured-section p { color: #7a6a58; margin-bottom: 32px; }
.featured-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px,1fr)); gap: 24px; }

/* FOOTER */
footer { background: var(--charcoal); color: #9a8878; text-align: center; padding: 40px 24px; margin-top: 60px; }
footer strong { color: var(--gold); font-family: 'Dancing Script', cursive; font-size: 1.3rem; }
footer p { margin-top: 12px; font-size: 0.9rem; }

/* TOAST */
.toast { position: fixed; bottom: 30px; right: 30px; background: var(--sage); color: white; padding: 14px 28px; border-radius: 8px; font-weight: 700; z-index: 9999; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
.toast.show { opacity: 1; }

/* ADMIN EDIT OVERLAY BADGE */
.section-edit-wrap { position: relative; }

/* BLOG URL DISPLAY */
.blog-url-bar { background: var(--light-gray); border: 1px solid var(--border); border-radius: 6px; padding: 8px 16px; font-family: 'Courier New', monospace; font-size: 0.85rem; color: #7a6a58; margin: 0 24px 8px; display: inline-block; max-width: 600px; }

@media(max-width:768px){
  .about-hero { grid-template-columns: 1fr; }
  .contact-section { grid-template-columns: 1fr; }
  .about-stats { grid-template-columns: repeat(2,1fr); }
  nav { padding: 0 16px; }
  .nav-links a { padding: 8px 10px; font-size: 0.8rem; }
}
</style>
</head>
<body>

<!-- ADMIN BAR -->
<div class="admin-bar">
  ğŸ” Admin Mode Active â€” You can edit all content, manage recipes and blogs
  <button class="logout-btn" onclick="logout()">Logout</button>
</div>

<!-- NAV -->
<nav>
  <span class="logo" onclick="showSection('home')">Maria's Kitchen</span>
  <div class="nav-links">
    <a onclick="showSection('home')" class="active" id="nav-home">Home</a>
    <a onclick="showSection('recipes')" id="nav-recipes">Recipes</a>
    <a onclick="showSection('blogs')" id="nav-blogs">Blogs</a>
    <a onclick="showSection('about')" id="nav-about">About</a>
    <a onclick="showSection('contact')" id="nav-contact">Contact</a>
    <a onclick="toggleAdminLogin()" class="admin-btn-nav" id="admin-nav-btn">Admin</a>
  </div>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HOME â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section active" id="section-home">
  <div class="hero">
    <div class="hero-content">
      <div class="hero-tag">âœ¦ Welcome to My Kitchen</div>
      <h1 id="hero-title" contenteditable="false">Cook with Love,<br>Eat with Joy</h1>
      <p id="hero-subtitle" contenteditable="false">Authentic recipes, culinary stories, and kitchen wisdom from Maria Kanwal's home kitchen to yours.</p>
      <div class="hero-btns">
        <button class="btn-primary" onclick="showSection('recipes')">Explore Recipes</button>
        <button class="btn-secondary" onclick="showSection('blogs')">Read Blogs</button>
      </div>
    </div>
  </div>

  <div class="featured-section">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;margin-bottom:8px;">
      <div>
        <h2 id="featured-heading" contenteditable="false">Featured This Week</h2>
        <p id="featured-sub" contenteditable="false">Handpicked by Maria â€” recipes that are sure to delight</p>
      </div>
      <div class="edit-bar" id="home-edit-bar">
        <button class="eb-btn eb-edit" onclick="startHomeEdit()">âœï¸ Edit Section</button>
        <button class="eb-btn eb-save" id="home-save-btn" onclick="saveHomeEdit()">ğŸ’¾ Save</button>
        <button class="eb-btn eb-cancel" id="home-cancel-btn" onclick="cancelHomeEdit()">Cancel</button>
      </div>
    </div>
    <div class="featured-grid" id="featured-grid"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• RECIPES â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section" id="section-recipes">
  <div class="page-header">
    <h1>Recipe Collection</h1>
    <p>Over 50+ carefully tested recipes by Maria Kanwal</p>
  </div>
  <div class="recipes-intro">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;max-width:700px;margin:0 auto;">
      <div>
        <h2 id="recipes-heading" contenteditable="false">All Recipes</h2>
        <p id="recipes-subheading" contenteditable="false">From weeknight dinners to weekend feasts â€” every recipe crafted with love and tested to perfection.</p>
      </div>
    </div>
    <div class="edit-bar" style="justify-content:center;margin-top:16px;">
      <button class="eb-btn eb-add" onclick="openAddRecipeModal()">+ Add New Recipe</button>
      <button class="eb-btn eb-edit" onclick="startRecipesIntroEdit()">âœï¸ Edit Heading</button>
      <button class="eb-btn eb-save" id="recipes-intro-save" style="display:none;" onclick="saveRecipesIntro()">ğŸ’¾ Save</button>
      <button class="eb-btn eb-cancel" id="recipes-intro-cancel" style="display:none;" onclick="cancelRecipesIntro()">Cancel</button>
    </div>
  </div>
  <div class="recipes-grid" id="recipes-grid"></div>
</div>

<!-- RECIPE DETAIL -->
<div class="section" id="section-recipe-detail">
  <button class="back-btn" onclick="showSection('recipes')">â† Back to Recipes</button>
  <img class="recipe-detail-hero" id="rd-img" src="" alt="">
  <div class="recipe-detail-body">
    <span class="recipe-tag" id="rd-tag"></span>
    <h1 id="rd-name" contenteditable="false" style="margin-top:12px;"></h1>
    <div class="recipe-detail-meta">
      <span>â± Prep/Cook: <strong id="rd-time"></strong></span>
      <span>ğŸ‘¤ Serves: <strong id="rd-servings"></strong></span>
    </div>
    <div class="recipe-detail-content" id="rd-content" contenteditable="false"></div>
    <div class="edit-bar" style="margin-top:24px;" id="rd-edit-bar">
      <button class="eb-btn eb-edit" onclick="startRdEdit()">âœï¸ Edit Recipe</button>
      <button class="eb-btn eb-save" id="rd-save-btn" style="display:none;" onclick="saveRdEdit()">ğŸ’¾ Save</button>
      <button class="eb-btn eb-cancel" id="rd-cancel-btn" style="display:none;" onclick="cancelRdEdit()">Cancel</button>
      <button class="eb-btn eb-delete" onclick="deleteCurrentRecipe()">ğŸ—‘ Delete Recipe</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• BLOGS LIST â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section" id="section-blogs">
  <div class="page-header">
    <h1>Kitchen Stories</h1>
    <p>Deep-dive articles on cooking techniques, ingredients, and culinary culture</p>
  </div>
  <div class="blogs-controls">
    <h2 id="blogs-list-heading">All Articles <span style="color:#9a8878;font-size:1rem;font-weight:400;" id="blog-count-label"></span></h2>
    <div class="edit-bar" style="display:none;" id="blog-list-edit-bar">
      <button class="eb-btn eb-add" onclick="openAddBlogModal()">+ Add New Blog</button>
    </div>
  </div>
  <div class="blogs-grid" id="blogs-grid"></div>
</div>

<!-- BLOG DETAIL -->
<div class="section" id="section-blog-detail">
  <button class="back-btn" onclick="showSection('blogs')">â† Back to Blogs</button>
  <div id="bd-url-bar" class="blog-url-bar"></div>
  <img class="blog-detail-hero" id="bd-img" src="" alt="">
  <div class="blog-detail-body">
    <div class="blog-detail-top">
      <span class="blog-category" id="bd-category"></span>
      <span class="blog-date" id="bd-date"></span>
    </div>
    <h1 id="bd-title" contenteditable="false"></h1>
    <div class="author-line">
      <img class="author-avatar" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&q=80" alt="Maria Kanwal">
      <div class="author-info"><strong>Maria Kanwal</strong><span>Food Writer & Home Chef</span></div>
    </div>
    <div class="blog-detail-content" id="bd-content" contenteditable="false"></div>
    <img class="blog-img-inline" id="bd-inline-img" src="" alt="">
    <div class="key-takeaways">
      <h4>ğŸŒŸ Key Takeaways</h4>
      <ul id="bd-takeaways"></ul>
    </div>
    <div class="faq-section">
      <h3>Frequently Asked Questions</h3>
      <div id="bd-faqs"></div>
    </div>
    <div class="conclusion-box">
      <h3>Conclusion</h3>
      <p id="bd-conclusion" contenteditable="false"></p>
    </div>
    <div class="edit-bar" style="margin-top:24px;" id="bd-edit-bar">
      <button class="eb-btn eb-edit" onclick="startBdEdit()">âœï¸ Edit Blog</button>
      <button class="eb-btn eb-save" id="bd-save-btn" style="display:none;" onclick="saveBdEdit()">ğŸ’¾ Save</button>
      <button class="eb-btn eb-cancel" id="bd-cancel-btn" style="display:none;" onclick="cancelBdEdit()">Cancel</button>
      <button class="eb-btn eb-delete" onclick="deleteCurrentBlog()">ğŸ—‘ Delete Blog</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ABOUT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section" id="section-about">
  <div class="page-header">
    <h1>About Maria</h1>
    <p>The story behind the kitchen</p>
  </div>
  <div class="about-section">
    <div class="about-hero">
      <div class="about-img-wrap">
        <img src="https://images.unsplash.com/photo-1567620832903-9fc6debc209f?w=600&q=80" alt="Maria in kitchen">
      </div>
      <div class="about-text">
        <h2>Hello, I'm</h2>
        <h1 id="about-name" contenteditable="false">Maria Kanwal</h1>
        <p id="about-bio1" contenteditable="false">I'm a passionate home cook and food writer who believes that great food doesn't have to be complicated. With over a decade of cooking experience, I've learned that the best meals come from simple, quality ingredients prepared with care and intention.</p>
        <p id="about-bio2" contenteditable="false">My culinary journey started in my grandmother's kitchen in Lahore, where the aromas of cardamom, saffron, and slow-cooked curries were part of everyday life. That early exposure to bold, authentic flavors shaped everything I create today.</p>
        <p id="about-bio3" contenteditable="false">Through this blog, I share recipes that bridge cultures â€” from traditional South Asian cooking to Mediterranean classics and modern fusion dishes. Every recipe comes with stories, tips, and the kind of detail that makes you feel confident in the kitchen.</p>
        <div class="edit-bar" style="margin-top:16px;" id="about-edit-bar">
          <button class="eb-btn eb-edit" onclick="startAboutEdit()">âœï¸ Edit Bio</button>
          <button class="eb-btn eb-save" id="about-save-btn" style="display:none;" onclick="saveAbout()">ğŸ’¾ Save</button>
          <button class="eb-btn eb-cancel" id="about-cancel-btn" style="display:none;" onclick="cancelAbout()">Cancel</button>
        </div>
        <button class="btn-primary" style="margin-top:20px;" onclick="showSection('contact')">Get in Touch</button>
      </div>
    </div>
    <div class="about-stats">
      <div class="stat-item">
        <h3 id="stat1" contenteditable="false">200+</h3>
        <p>Recipes Published</p>
      </div>
      <div class="stat-item">
        <h3 id="stat2" contenteditable="false">50K+</h3>
        <p>Monthly Readers</p>
      </div>
      <div class="stat-item">
        <h3 id="stat3" contenteditable="false">12</h3>
        <p>Years of Cooking</p>
      </div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:12px;">
      <h2 style="font-family:'Playfair Display',serif;font-size:1.8rem;color:var(--brown);">My Values</h2>
      <div class="edit-bar" id="stats-edit-bar">
        <button class="eb-btn eb-edit" onclick="startStatsEdit()">âœï¸ Edit Stats</button>
        <button class="eb-btn eb-save" id="stats-save-btn" style="display:none;" onclick="saveStats()">ğŸ’¾ Save</button>
        <button class="eb-btn eb-cancel" id="stats-cancel-btn" style="display:none;" onclick="cancelStats()">Cancel</button>
      </div>
    </div>
    <div class="about-values">
      <div class="value-card">
        <img src="https://images.unsplash.com/photo-1506368249639-73a05d6f6488?w=200&q=80" alt="Fresh ingredients">
        <h3>Fresh Ingredients</h3>
        <p>I believe in sourcing seasonal, local ingredients whenever possible. Quality produce makes all the difference.</p>
      </div>
      <div class="value-card">
        <img src="https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=200&q=80" alt="Simple techniques">
        <h3>Simple Techniques</h3>
        <p>Cooking should be accessible. I break down complex techniques into simple, repeatable steps anyone can master.</p>
      </div>
      <div class="value-card">
        <img src="https://images.unsplash.com/photo-1528712306091-ed0763094c98?w=200&q=80" alt="Family food">
        <h3>Family at Heart</h3>
        <p>Food is best when shared. Every recipe I create is meant to bring people around the table together.</p>
      </div>
      <div class="value-card">
        <img src="https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=200&q=80" alt="Healthy eating">
        <h3>Balanced Living</h3>
        <p>I believe in enjoying all foods with mindfulness â€” indulgence and nutrition can coexist beautifully.</p>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CONTACT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section" id="section-contact">
  <div class="page-header">
    <h1>Get In Touch</h1>
    <p>I'd love to hear from you â€” recipe questions, collaborations, or just to say hello!</p>
  </div>
  <div class="contact-section">
    <div class="contact-info">
      <h2 id="contact-heading" contenteditable="false">Let's Connect</h2>
      <p id="contact-desc" contenteditable="false">Whether you have a question about a recipe, want to collaborate, or simply want to share your cooking experience â€” my inbox is always open.</p>
      <div class="edit-bar" style="margin-bottom:20px;" id="contact-edit-bar">
        <button class="eb-btn eb-edit" onclick="startContactEdit()">âœï¸ Edit</button>
        <button class="eb-btn eb-save" id="contact-save-btn" style="display:none;" onclick="saveContact()">ğŸ’¾ Save</button>
        <button class="eb-btn eb-cancel" id="contact-cancel-btn" style="display:none;" onclick="cancelContact()">Cancel</button>
      </div>
      <div class="contact-detail">
        <img src="https://images.unsplash.com/photo-1596524430615-b46475ddff6e?w=100&q=80" alt="Email">
        <div><strong>Email</strong><span id="contact-email" contenteditable="false">maria@mariaskitchen.com</span></div>
      </div>
      <div class="contact-detail">
        <img src="https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=100&q=80" alt="Social">
        <div><strong>Social Media</strong><span id="contact-social" contenteditable="false">@mariaskitchen on Instagram & Pinterest</span></div>
      </div>
      <div class="contact-detail">
        <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=100&q=80" alt="Location">
        <div><strong>Based in</strong><span id="contact-location" contenteditable="false">Lahore, Pakistan ğŸŒ</span></div>
      </div>
    </div>
    <div class="contact-form">
      <h3>Send a Message</h3>
      <div class="form-group"><label>Your Name</label><input type="text" placeholder="Enter your name"></div>
      <div class="form-group"><label>Email Address</label><input type="email" placeholder="your@email.com"></div>
      <div class="form-group"><label>Subject</label>
        <select><option>Recipe Question</option><option>Collaboration</option><option>Feedback</option><option>Other</option></select>
      </div>
      <div class="form-group"><label>Message</label><textarea placeholder="Your message here..."></textarea></div>
      <button class="submit-btn" onclick="submitContact()">Send Message</button>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <strong>Maria's Kitchen</strong>
  <p>Â© 2024 Maria Kanwal. All rights reserved. Made with â¤ï¸ and a pinch of love.</p>
</footer>

<!-- â•â•â• ADMIN LOGIN MODAL â•â•â• -->
<div class="modal-overlay" id="admin-login-modal">
  <div class="modal" style="max-width:400px;">
    <button class="modal-close" onclick="closeAdminLogin()">Ã—</button>
    <h2>Admin Access</h2>
    <p style="color:#7a6a58;margin-bottom:24px;">Enter credentials to access admin controls.</p>
    <div class="form-group"><label>Username</label><input type="text" id="admin-username" placeholder="Username" onkeydown="if(event.key==='Enter')attemptLogin()"></div>
    <div class="form-group"><label>Password</label><input type="password" id="admin-password" placeholder="Password" onkeydown="if(event.key==='Enter')attemptLogin()"></div>
    <div id="login-error" style="color:#e74c3c;font-size:0.85rem;margin-bottom:12px;display:none;">Incorrect credentials.</div>
    <div style="display:flex;gap:12px;">
      <button class="modal-save" onclick="attemptLogin()">Login</button>
      <button class="modal-cancel" onclick="closeAdminLogin()">Cancel</button>
    </div>
  </div>
</div>

<!-- â•â•â• ADD/EDIT RECIPE MODAL â•â•â• -->
<div class="modal-overlay" id="recipe-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeRecipeModal()">Ã—</button>
    <h2 id="recipe-modal-title">Add New Recipe</h2>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
      <div class="form-group"><label>Recipe Name</label><input type="text" id="rm-name" placeholder="e.g. Butter Chicken"></div>
      <div class="form-group"><label>Category / Tag</label><input type="text" id="rm-tag" placeholder="e.g. Italian, Healthy"></div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
      <div class="form-group"><label>Cook Time</label><input type="text" id="rm-time" placeholder="e.g. 35 min"></div>
      <div class="form-group"><label>Servings</label><input type="text" id="rm-servings" placeholder="e.g. 4"></div>
    </div>
    <div class="form-group"><label>Card Image URL</label><input type="text" id="rm-img" placeholder="https://images.unsplash.com/..."></div>
    <div class="form-group"><label>Short Description (card)</label><textarea id="rm-desc" style="height:80px;" placeholder="Brief description shown on the recipe card..."></textarea></div>
    <div class="editor-tabs">
      <button class="editor-tab active" onclick="switchTab(event,'rm-panel-visual')">âœï¸ Write Content</button>
      <button class="editor-tab" onclick="switchTab(event,'rm-panel-code')">ğŸ’» HTML Content</button>
    </div>
    <div class="editor-panel active" id="rm-panel-visual">
      <div class="form-group">
        <label>Full Recipe Content (text â€” use blank lines between paragraphs, add headings with ##)</label>
        <textarea id="rm-content-text" style="height:220px;font-family:'Lato',sans-serif;" placeholder="## Ingredients&#10;&#10;- 2 cups flour&#10;- 1 cup butter&#10;&#10;## Instructions&#10;&#10;Step 1: Mix flour and butter..."></textarea>
      </div>
    </div>
    <div class="editor-panel" id="rm-panel-code">
      <div class="form-group">
        <label>Full Recipe Content (HTML)</label>
        <textarea id="rm-content-html" style="height:220px;font-family:'Courier New',monospace;font-size:0.85rem;" placeholder="&lt;h3&gt;Ingredients&lt;/h3&gt;&#10;&lt;ul&gt;&lt;li&gt;2 cups flour&lt;/li&gt;&lt;/ul&gt;&#10;&lt;h3&gt;Instructions&lt;/h3&gt;&#10;&lt;p&gt;Step 1...&lt;/p&gt;"></textarea>
      </div>
    </div>
    <div class="modal-actions">
      <button class="modal-save" onclick="saveRecipeModal()">ğŸ’¾ Save Recipe</button>
      <button class="modal-cancel" onclick="closeRecipeModal()">Cancel</button>
    </div>
  </div>
</div>

<!-- â•â•â• ADD/EDIT BLOG MODAL â•â•â• -->
<div class="modal-overlay" id="blog-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeBlogModal()">Ã—</button>
    <h2 id="blog-modal-title">Add New Blog Post</h2>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
      <div class="form-group"><label>Blog Title</label><input type="text" id="bm-title" placeholder="Enter blog title"></div>
      <div class="form-group"><label>Category</label><input type="text" id="bm-category" placeholder="e.g. Baking, Healthy"></div>
    </div>
    <div class="form-group"><label>Cover Image URL</label><input type="text" id="bm-img" placeholder="https://images.unsplash.com/..."></div>
    <div class="form-group"><label>Inline Image URL (optional)</label><input type="text" id="bm-inline-img" placeholder="https://images.unsplash.com/..."></div>
    <div class="form-group"><label>Takeaways (one per line)</label><textarea id="bm-takeaways" style="height:80px;" placeholder="Use fresh ingredients&#10;Rest your dough for 30 minutes&#10;Season throughout cooking"></textarea></div>
    <div class="form-group"><label>Conclusion</label><textarea id="bm-conclusion" style="height:80px;" placeholder="Wrap up your blog post with a memorable closing..."></textarea></div>
    <div class="editor-tabs">
      <button class="editor-tab active" onclick="switchTab(event,'bm-panel-visual')">âœï¸ Write Content</button>
      <button class="editor-tab" onclick="switchTab(event,'bm-panel-code')">ğŸ’» HTML Content</button>
    </div>
    <div class="editor-panel active" id="bm-panel-visual">
      <div class="form-group">
        <label>Blog Content (use blank lines between paragraphs, ## for headings)</label>
        <textarea id="bm-content-text" style="height:250px;font-family:'Lato',sans-serif;" placeholder="## Introduction&#10;&#10;Write your opening paragraph here...&#10;&#10;## Section Title&#10;&#10;Continue your blog content..."></textarea>
      </div>
    </div>
    <div class="editor-panel" id="bm-panel-code">
      <div class="form-group">
        <label>Blog Content (HTML)</label>
        <textarea id="bm-content-html" style="height:250px;font-family:'Courier New',monospace;font-size:0.85rem;" placeholder="&lt;h3&gt;Introduction&lt;/h3&gt;&#10;&lt;p&gt;Your content here...&lt;/p&gt;"></textarea>
      </div>
    </div>
    <div class="modal-actions">
      <button class="modal-save" onclick="saveBlogModal()">ğŸ“ Publish Blog</button>
      <button class="modal-cancel" onclick="closeBlogModal()">Cancel</button>
    </div>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CREDENTIALS (only in source â€” admin only)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const ADMIN_CREDS = { username: 'mariakanwal', password: 'MK@Kitchen2024!' };

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let isAdmin = false;
let currentRecipeIndex = -1;
let currentBlogIndex = -1;
let editingRecipeIndex = -1;
let editingBlogIndex = -1;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA â€” RECIPES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const defaultRecipes = [
  { img:'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=500&q=80', tag:'Italian', name:'Classic Margherita Pizza', desc:'A timeless Italian classic with fresh mozzarella, basil and San Marzano tomato sauce on a hand-tossed crust.', time:'35 min', servings:'4', content:'<h3>Ingredients</h3><ul><li>2 cups 00 flour</li><li>1 tsp active dry yeast</li><li>1 tsp salt</li><li>Â¾ cup warm water</li><li>400g San Marzano tomatoes</li><li>200g fresh mozzarella</li><li>Fresh basil leaves</li><li>Extra-virgin olive oil</li></ul><h3>Instructions</h3><p>Mix flour, yeast, salt and water. Knead for 10 minutes until smooth. Let rise for 1 hour.</p><p>Stretch dough into a thin round. Spread crushed tomatoes, add torn mozzarella and bake at 250Â°C (480Â°F) for 8-10 minutes until blistered and golden.</p><p>Remove from oven, top with fresh basil and drizzle with olive oil. Serve immediately.</p>' },
  { img:'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=500&q=80', tag:'Healthy', name:'Mediterranean Quinoa Bowl', desc:'Fresh, vibrant and packed with nutrients â€” roasted veggies, feta, olives and hummus on a quinoa base.', time:'20 min', servings:'2', content:'<h3>Ingredients</h3><ul><li>1 cup quinoa</li><li>1 cucumber, diced</li><li>1 cup cherry tomatoes, halved</li><li>100g feta cheese</li><li>Â½ cup kalamata olives</li><li>2 tbsp hummus</li><li>Lemon tahini dressing</li></ul><h3>Instructions</h3><p>Cook quinoa according to package instructions. Let cool slightly.</p><p>Arrange quinoa in bowls and top with cucumber, cherry tomatoes, feta, and olives. Add a dollop of hummus and drizzle generously with lemon tahini dressing.</p>' },
  { img:'https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=500&q=80', tag:'Breakfast', name:'Fluffy Buttermilk Pancakes', desc:'Golden, pillowy stacks with maple syrup and fresh berries for the perfect weekend breakfast.', time:'25 min', servings:'4', content:'<h3>Ingredients</h3><ul><li>2 cups all-purpose flour</li><li>2 tsp baking powder</li><li>Â½ tsp baking soda</li><li>2 tbsp sugar</li><li>1 tsp salt</li><li>2 cups buttermilk</li><li>2 eggs</li><li>3 tbsp melted butter</li></ul><h3>Instructions</h3><p>Whisk dry ingredients together. In a separate bowl, combine buttermilk, eggs, and melted butter. Gently fold wet into dry â€” lumps are fine!</p><p>Cook on a buttered griddle over medium heat until bubbles form on top, then flip. Serve with maple syrup and fresh berries.</p>' },
  { img:'https://images.unsplash.com/photo-1588166524941-3bf61a9c41db?w=500&q=80', tag:'Asian', name:'Chicken Pad Thai', desc:'Street-food style pad thai with rice noodles, crunchy peanuts, lime and a perfectly balanced sweet-tangy sauce.', time:'30 min', servings:'3', content:'<h3>Ingredients</h3><ul><li>200g rice noodles</li><li>300g chicken breast, sliced</li><li>3 tbsp fish sauce</li><li>2 tbsp tamarind paste</li><li>1 tbsp palm sugar</li><li>2 eggs</li><li>Bean sprouts, green onions, peanuts, lime</li></ul><h3>Instructions</h3><p>Soak noodles in warm water for 20 minutes. Mix fish sauce, tamarind, and sugar for the sauce.</p><p>Stir-fry chicken in a very hot wok, add noodles and sauce, push to side and scramble eggs. Toss together with bean sprouts. Top with peanuts, green onions, and lime.</p>' },
  { img:'https://images.unsplash.com/photo-1476718406336-bb5a9690ee2a?w=500&q=80', tag:'Dessert', name:'Chocolate Lava Cake', desc:'Decadently rich chocolate molten cakes with a gooey center â€” perfect for dinner parties.', time:'20 min', servings:'4', content:'<h3>Ingredients</h3><ul><li>150g dark chocolate (70%)</li><li>150g butter</li><li>4 eggs + 4 yolks</li><li>150g icing sugar</li><li>60g plain flour</li></ul><h3>Instructions</h3><p>Melt chocolate and butter together. Whisk eggs, yolks, and sugar until thick. Fold in chocolate mixture, then flour.</p><p>Pour into buttered ramekins and bake at 200Â°C for exactly 10-12 minutes. The edges should be set but center still wobbly. Unmold immediately and serve with vanilla ice cream.</p>' },
  { img:'https://images.unsplash.com/photo-1536304929831-ee1ca9d44906?w=500&q=80', tag:'South Asian', name:'Butter Chicken Masala', desc:"Rich, creamy and perfectly spiced â€” Maria's most-requested recipe, straight from her family's kitchen.", time:'60 min', servings:'5', content:'<h3>Ingredients</h3><ul><li>800g chicken, cubed</li><li>2 onions, finely sliced</li><li>4 garlic cloves</li><li>2 tbsp ginger paste</li><li>400g crushed tomatoes</li><li>200ml cream</li><li>2 tbsp butter + 2 tbsp oil</li><li>2 tsp garam masala, 1 tsp cumin, 1 tsp coriander, Â½ tsp turmeric, chili to taste</li></ul><h3>Instructions</h3><p>Cook onions in butter and oil over medium heat for 25 minutes until deep golden. Add garlic, ginger, and spices; cook 2 minutes.</p><p>Add tomatoes and cook until oil separates. Add chicken and cook through. Stir in cream and simmer 10 minutes. Finish with a knob of butter and fresh coriander.</p>' },
  { img:'https://images.unsplash.com/photo-1513104890138-7c749659a591?w=500&q=80', tag:'Italian', name:'Homemade Spaghetti Carbonara', desc:'The authentic Roman way â€” eggs, guanciale, pecorino and black pepper. No cream needed.', time:'25 min', servings:'2', content:'<h3>Ingredients</h3><ul><li>200g spaghetti</li><li>150g guanciale (or pancetta)</li><li>3 egg yolks + 1 whole egg</li><li>80g Pecorino Romano, grated</li><li>Black pepper, generously</li><li>Salt</li></ul><h3>Instructions</h3><p>Cook guanciale until crispy. Beat eggs with pecorino and generous black pepper to a cream.</p><p>Cook pasta in very salty water. Reserve 1 cup pasta water. Off heat, toss hot pasta with guanciale fat, then pour egg mixture, tossing rapidly and adding pasta water a splash at a time to create a silky, flowing sauce. Serve immediately.</p>' },
  { img:'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=500&q=80', tag:'Baking', name:'Artisan Sourdough Bread', desc:'A rustic, crusty sourdough with an airy open crumb. Takes time but is completely worth every minute.', time:'24 hrs', servings:'10', content:'<h3>Ingredients</h3><ul><li>400g bread flour</li><li>100g whole wheat flour</li><li>375g water (75% hydration)</li><li>100g active sourdough starter</li><li>10g salt</li></ul><h3>Instructions</h3><p>Mix flour and water, autolyse 1 hour. Add starter and salt, mix well. Perform 4 sets of stretch-and-folds over 2 hours.</p><p>Bulk ferment 4-6 hours at room temperature. Shape and place in floured banneton. Retard in refrigerator 12-16 hours. Bake in preheated Dutch oven at 250Â°C (480Â°F) â€” 20 min covered, 20-25 min uncovered until deep mahogany brown.</p>' },
  { img:'https://images.unsplash.com/photo-1547592180-85f173990554?w=500&q=80', tag:'Soup', name:'Roasted Tomato Bisque', desc:'Deeply flavorful oven-roasted tomato soup with cream, fresh basil and sourdough croutons.', time:'50 min', servings:'6', content:'<h3>Ingredients</h3><ul><li>1.5kg plum tomatoes, halved</li><li>1 head garlic</li><li>2 onions, quartered</li><li>4 tbsp olive oil</li><li>500ml vegetable stock</li><li>150ml cream</li><li>Fresh basil</li></ul><h3>Instructions</h3><p>Roast tomatoes, garlic, and onions with olive oil at 200Â°C for 35 minutes until caramelized and deeply fragrant.</p><p>Blend with stock until very smooth. Pass through a sieve. Reheat with cream, season generously. Serve with a drizzle of good olive oil and sourdough croutons.</p>' },
  { img:'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=500&q=80', tag:'Grilling', name:'Honey Garlic Ribs', desc:'Fall-off-the-bone pork ribs glazed with sticky honey-garlic-soy sauce. Weekend BBQ essential.', time:'3 hrs', servings:'6', content:'<h3>Ingredients</h3><ul><li>2 racks pork baby back ribs</li><li>Dry rub: paprika, brown sugar, garlic powder, cumin, salt, pepper</li><li>Glaze: Â½ cup honey, Â¼ cup soy sauce, 4 garlic cloves minced, 2 tbsp butter</li></ul><h3>Instructions</h3><p>Remove membrane from ribs. Rub generously with dry spice mix. Wrap in foil and bake at 150Â°C for 2.5 hours until very tender.</p><p>Simmer glaze ingredients until thickened. Unwrap ribs, brush with glaze and grill or broil 5-7 minutes each side until sticky and caramelized.</p>' },
  { img:'https://images.unsplash.com/photo-1484980972926-edee96e0960d?w=500&q=80', tag:'Salads', name:'Caesar Salad Supreme', desc:'Crisp romaine, house-made croutons and a bold anchovy-parmesan dressing.', time:'15 min', servings:'4', content:'<h3>Ingredients</h3><ul><li>2 heads romaine lettuce</li><li>Dressing: 4 anchovy fillets, 2 garlic cloves, 2 egg yolks, 2 tbsp lemon juice, 1 tsp Worcestershire, Â½ cup olive oil, 50g parmesan</li><li>Croutons: sourdough bread, olive oil, garlic</li></ul><h3>Instructions</h3><p>Pound anchovies and garlic to a paste. Whisk in egg yolks, lemon, Worcestershire. Slowly drizzle in olive oil to emulsify. Stir in parmesan.</p><p>Toss romaine with dressing. Top with croutons (made by tossing bread cubes in garlic oil and baking until golden) and extra parmesan.</p>' },
  { img:'https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=500&q=80', tag:'Burgers', name:'Gourmet Beef Burger', desc:'Juicy brioche-bun burgers with caramelized onions, special sauce and a stack of toppings.', time:'30 min', servings:'4', content:'<h3>Ingredients</h3><ul><li>600g beef mince (80/20 fat ratio)</li><li>Salt and pepper</li><li>4 brioche buns</li><li>Special sauce: mayo, ketchup, mustard, pickle relish</li><li>Toppings: lettuce, tomato, caramelized onions, cheese</li></ul><h3>Instructions</h3><p>Form meat into 150g patties. Do not overwork â€” just press together. Season generously on both sides.</p><p>Cook on a very hot flat griddle or cast iron pan 3-4 minutes per side. Add cheese in final minute. Toast buns. Build burger with sauce on both buns, then layer toppings. Serve immediately.</p>' },
];
let recipes = JSON.parse(localStorage.getItem('mk-recipes') || 'null') || JSON.parse(JSON.stringify(defaultRecipes));

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA â€” BLOGS (abbreviated for space, full content)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const defaultBlogs = [
  { id:1, slug:'art-of-bread-making', title:'The Art of Bread Making: From Starter to Sourdough Perfection', category:'Baking', date:'December 1, 2024', img:'https://images.unsplash.com/photo-1509440159596-0249088772ff?w=900&q=80', inlineImg:'https://images.unsplash.com/photo-1586444248902-2f64eddc13df?w=800&q=80', excerpt:'Bread making is one of humanity\'s oldest and most rewarding culinary traditions. Discover the magic of wild fermentation and learn to bake your own perfect sourdough loaf.', content:`<p>Bread making is one of humanity's oldest and most rewarding culinary traditions. Long before modern kitchens, our ancestors were mixing flour and water, waiting patiently for fermentation, and baking loaves over open flames. There is something deeply primal and satisfying about transforming a few humble ingredients into a golden, crusty loaf of bread.</p><h3>The Magic of Wild Fermentation</h3><p>At the heart of sourdough bread making lies a living culture â€” a community of wild yeasts and beneficial bacteria that transform flour and water into something extraordinary. Unlike commercial yeast, sourdough starter is a dynamic ecosystem that evolves over time, developing complex flavors that you simply cannot replicate any other way.</p><p>Creating your own sourdough starter requires nothing more than flour, water, and time. You mix equal parts whole wheat flour and water in a jar and wait. Within a day or two, bubbles will begin to form â€” wild yeasts from the air and flour beginning to colonize your mixture. Over the following week, you feed your starter daily until it reliably doubles in size within four to eight hours.</p><h3>Understanding Fermentation Time</h3><p>One of the most important lessons in sourdough baking is that time is your friend. The long, slow fermentation develops acids that tenderize the gluten, break down phytic acid, and create the characteristic tang and complexity that makes sourdough exceptional. Temperature plays a crucial role â€” a warm kitchen speeds things up, while the refrigerator slows fermentation dramatically for the overnight retard technique.</p><h3>The Shaping Process</h3><p>Shaping is where many home bakers struggle. The goal is to create surface tension â€” a tight outer skin that will help the loaf maintain its shape during baking. Work quickly and confidently, using a bench scraper and your hands to drag and rotate the dough, building surface tension with each movement. Place shaped dough seam-side up in a well-floured banneton and refrigerate overnight.</p><h3>The Perfect Bake</h3><p>Baking sourdough requires high heat and steam. A Dutch oven is the home baker's secret weapon â€” preheating it in a very hot oven, then baking the dough inside with the lid on for 20 minutes, traps steam and creates dramatic oven spring. After removing the lid, the crust browns and crisps beautifully. Resist cutting into your bread for at least an hour.</p>`, takeaways:['Feed your starter at consistent intervals for best results','Temperature controls fermentation speed â€” use a thermometer','Wet dough is normal; trust the process','Steam in the first phase of baking is essential for crust development','Let bread cool fully before slicing'], faqs:[{q:'How long does it take to create a sourdough starter?',a:'Typically 5 to 7 days before your starter is active and ready to use for baking.'},{q:'Why is my sourdough bread not rising?',a:'Common causes include an underripe starter, dough that is too cold, or overfermentation.'},{q:'Can I use all-purpose flour instead of bread flour?',a:'Yes, but bread flour has more protein and gives better gluten development and chewier crumb.'}], conclusion:'Sourdough bread making is a journey that rewards patience and practice. Every loaf teaches you something new about fermentation, dough handling, and the beautiful alchemy of flour, water, salt, and time.' },
  { id:2, slug:'mastering-spices-guide', title:'Mastering the Art of Spices: A Complete Guide to Flavor Building', category:'Techniques', date:'November 28, 2024', img:'https://images.unsplash.com/photo-1596040033229-a9821ebd058d?w=900&q=80', inlineImg:'https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?w=800&q=80', excerpt:'Spices are the soul of cooking. Learn how to bloom, combine, and build spice blends that transform everyday dishes into something extraordinary.', content:`<p>Spices are the soul of cooking. They have the power to transform the most basic ingredients into dishes that are complex, aromatic, and deeply satisfying. Yet for many home cooks, spices remain a source of confusion and intimidation.</p><h3>Understanding Spice Families</h3><p>Before diving into individual spices, understand that they fall into broad flavor families: warm spices like cinnamon and cloves; bright, citrusy spices like coriander and cardamom; earthy spices like cumin and turmeric; pungent spices like fenugreek; and heat-providing spices like cayenne and black pepper. Understanding families helps you make intelligent substitutions and build combinations that make sense.</p><h3>The Importance of Blooming Spices</h3><p>One of the most impactful techniques you can adopt is blooming â€” briefly cooking whole or ground spices in hot fat before adding other ingredients. This process amplifies the aromatic compounds dramatically. Fat-soluble flavor compounds dissolve into the oil, which then distributes these flavors throughout every element of your dish. For ground spices, bloom carefully for no more than 30-60 seconds until fragrant.</p><h3>Whole vs. Ground: When to Use Each</h3><p>Whole spices release flavor slowly and are ideal for long-cooked dishes â€” braises, stocks, stews. Ground spices provide immediate, intense flavor and are better for rubs, marinades, and quick sautÃ©s. For the best of both worlds, buy whole spices and grind them fresh as needed. The difference in aroma is remarkable.</p><h3>Building a Balanced Spice Blend</h3><p>Think in layers: a base of warm, earthy spices for depth; bright, aromatic spices for complexity; a small amount of heat; and something unusual that makes your blend distinctively yours. Always toast whole spices before grinding â€” toast in a dry pan until fragrant and just beginning to color, then transfer immediately to prevent burning.</p>`, takeaways:['Bloom spices in fat to maximize flavor impact','Store spices in airtight containers away from heat and light','Whole spices stay fresh longer â€” grind your own for best results','Balance blends with warm, bright, earthy, and pungent elements','Taste and adjust spice levels throughout cooking'], faqs:[{q:'How can I tell if my spices have gone bad?',a:'Rub between your fingers and smell. If the aroma is faint or musty, replace the spice.'},{q:'Should I always bloom spices in oil?',a:'Not always. Some dishes call for dry toasting, others for adding spices to wet ingredients. Blooming in oil is best when oil is already the cooking medium.'},{q:'What are the most essential spices for a beginner?',a:'Start with cumin, coriander, turmeric, paprika, cinnamon, black pepper, and chili powder.'}], conclusion:'Mastering spices is a lifelong pursuit that pays enormous dividends every time you cook. Build your pantry with fresh, quality spices, learn the basic techniques, and experiment boldly.' },
  { id:3, slug:'perfect-pasta-from-scratch', title:'The Ultimate Guide to Making Perfect Pasta from Scratch', category:'Italian', date:'November 20, 2024', img:'https://images.unsplash.com/photo-1556760544-74068565f05c?w=900&q=80', inlineImg:'https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9?w=800&q=80', excerpt:'Fresh pasta has a tenderness and richness that dried pasta simply cannot match. Learn the flour, technique, and shaping secrets for restaurant-quality pasta at home.', content:`<p>There is a reason that homemade pasta is considered one of the pinnacles of Italian cooking. Fresh pasta has a tenderness and richness that dried pasta simply cannot match â€” its silky texture absorbs sauces differently and carries a delicate eggy flavor that transforms even the simplest sauces.</p><h3>The Flour Question</h3><p>The choice of flour is the foundation of great pasta. 00 flour â€” a very finely milled Italian flour â€” is ideal for fresh pasta. Semolina produces a robust, chewy texture. Many of the best recipes use a combination, balancing texture with tenderness. The classic ratio is 100g of 00 flour per large egg.</p><h3>Making the Dough</h3><p>Form a mound of flour on a clean work surface, make a well in the center, crack in your eggs, and gradually incorporate flour from the inner walls. Knead vigorously for 8-10 minutes until smooth, elastic, and slightly tacky. Wrap tightly and rest at room temperature for at least 30 minutes â€” resting relaxes the gluten dramatically.</p><h3>Rolling and Shaping</h3><p>Roll pasta progressively thinner, allowing the dough to relax between passes. For most shapes, roll to setting 5 or 6 on a typical pasta machine â€” thin enough to see your hand through the sheet. Dust generously with semolina before cutting to prevent sticking.</p><h3>Cooking and Saucing</h3><p>Fresh pasta cooks in 1-3 minutes in generously salted boiling water. Transfer directly from the pot to the pan where your sauce is waiting, bringing along a generous splash of starchy pasta water. Toss vigorously over heat â€” this emulsification creates a sauce that clings perfectly to every strand.</p>`, takeaways:['Use 00 flour or a blend of 00 and semolina for best results','Rest your dough for at least 30 minutes before rolling','Roll pasta progressively thinner, allowing it to relax between passes','Cook fresh pasta in abundantly salted water for just 1-3 minutes','Always finish pasta in the sauce with reserved pasta water'], faqs:[{q:'Do I need a pasta machine?',a:'No! A rolling pin works beautifully. A pasta machine makes rolling more consistent but is not essential.'},{q:'Why is my pasta dough tearing when I roll it?',a:"The gluten hasn't relaxed enough. Rest the dough longer before rolling."},{q:'Can I make pasta dough ahead of time?',a:'Yes. Wrap tightly and refrigerate for up to 24 hours. Bring to room temperature before rolling.'}], conclusion:'Making fresh pasta from scratch changes your cooking forever. It requires no special equipment, relatively few ingredients, and rewards you with something genuinely beautiful.' },
  { id:4, slug:'healthy-meal-prep-guide', title:'Healthy Meal Prep: A Week of Nutritious Cooking in One Sunday', category:'Healthy', date:'November 15, 2024', img:'https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=900&q=80', inlineImg:'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&q=80', excerpt:'The gap between wanting to eat healthily and actually doing so comes down to one thing: preparation. Transform your week with smart, efficient meal prep strategies.', content:`<p>In our increasingly busy lives, the gap between wanting to eat healthily and actually doing so comes down to one thing: preparation. When healthy food is already cooked, portioned, and waiting in your refrigerator, reaching for it becomes the path of least resistance.</p><h3>The Meal Prep Mindset</h3><p>Successful meal prep begins not in the kitchen but in your head. The most effective approach isn't about cooking 21 complete meals in advance â€” it's about building blocks: batches of whole grains, roasted proteins, prepared vegetables, and versatile sauces that can be mixed and matched throughout the week.</p><h3>Setting Up Your Session</h3><p>A successful session requires organization. Gather all ingredients, wash and dry your vegetables, and make a checklist before turning on the oven. Work in parallel â€” while grains simmer, vegetables can roast. While protein marinates, chop the next batch of vegetables. Invest in good glass storage containers with airtight lids.</p><h3>The Essential Components</h3><p>Every great weekly prep includes a few key categories. Grains are your foundation â€” cook a large batch of quinoa, brown rice, or farro. Roasted vegetables are perhaps the most versatile element â€” toss seasonal vegetables with olive oil, salt, and spices, and roast at high heat until caramelized. A batch-cooked protein and at least two different sauces or dressings complete your toolkit.</p><h3>Making It Sustainable</h3><p>The biggest pitfall of meal prep is burnout. Keep things simple and rotate components regularly. Start small â€” even preparing just one or two components makes weeknight cooking dramatically more manageable. As the habit forms, gradually expand your prep sessions.</p>`, takeaways:['Think in building blocks: grains, proteins, vegetables, and sauces','Work in parallel to maximize efficiency','Store components separately for maximum freshness and versatility','Keep weekly prep varied to prevent food fatigue','Even partial prep makes a significant difference'], faqs:[{q:'How long do meal prepped foods stay fresh?',a:'Cooked grains and vegetables: 4-5 days. Cooked proteins: 3-4 days. Soups and stews: 5-6 days. Sauces: 5-7 days.'},{q:'How many hours does a typical session take?',a:'A comprehensive session covering grains, 2-3 proteins, multiple vegetables, and 2 sauces typically takes 2-3 hours.'},{q:'Can I freeze meal prepped food?',a:'Most cooked grains, soups, stews, and proteins freeze very well. Label and date everything.'}], conclusion:'Meal prep is an investment of a few hours that pays dividends throughout your entire week in the form of healthier eating, reduced stress, and significant time savings.' },
  { id:5, slug:'baking-science-cakes', title:'Baking Science: Why Your Cakes Rise, Fall, and Everything in Between', category:'Baking', date:'November 10, 2024', img:'https://images.unsplash.com/photo-1549312170-2a8ac29e490b?w=900&q=80', inlineImg:'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&q=80', excerpt:'Baking is governed by precise chemical and physical reactions. Understanding the science helps you troubleshoot failures and develop recipes with confidence.', content:`<p>Baking is often described as a science, and this is not an exaggeration. Unlike savory cooking where instinct is celebrated, baking is governed by precise chemical and physical reactions that determine whether your cake rises magnificently or sinks disappointingly.</p><h3>The Chemistry of Leavening</h3><p>Leavening works three ways: chemically with baking soda or powder, biologically with yeast, or mechanically through creaming fat and sugar or beating eggs. Baking soda is sodium bicarbonate â€” a base that reacts with acids in your recipe (buttermilk, yogurt, brown sugar) to produce carbon dioxide. The reaction happens immediately, so batters using baking soda must go into the oven promptly. Baking powder is double-acting, releasing CO2 both when moistened and again when heated.</p><h3>The Role of Gluten</h3><p>Gluten is the protein network that forms when flour is hydrated and mixed. In bread, vigorous kneading develops strong gluten for chewy structure. In cakes, you want minimal gluten for a tender crumb â€” this is why cake recipes warn against overmixing. Cake flour (7-9% protein) produces the most tender results; bread flour (12-14%) gives structure to yeasted breads.</p><h3>Fat's Many Roles</h3><p>Fat lubricates gluten strands for tenderness, traps moisture extending shelf life, and when creamed with sugar creates tiny air pockets that expand during baking. Room-temperature butter can be properly creamed; cold butter creates flaky textures in pastry; melted butter produces dense, fudgy results like brownies. Knowing which state your recipe requires is key.</p><h3>Eggs: Structure, Richness, Emulsification</h3><p>Egg proteins coagulate during baking to set structure. Egg yolks contain lecithin, a natural emulsifier binding water and fat into smooth batter. Room-temperature eggs emulsify more readily â€” if you forgot, place eggs in warm water for five minutes before using.</p>`, takeaways:['Baking soda needs an acid to activate; use batter immediately','Overmixing cake batter develops too much gluten â€” tough crumb','Room-temperature ingredients incorporate more easily','Understand each ingredient\'s role before making substitutions','Oven temperature accuracy is critical â€” invest in an oven thermometer'], faqs:[{q:'Why did my cake sink in the middle?',a:'Common causes: underbaking, too much leavening, opening the oven door too early, or over-creaming fat and sugar.'},{q:'Can I substitute baking soda for baking powder?',a:'They are not directly interchangeable. Use 1/4 tsp baking soda for every 1 tsp baking powder and add an acid to the recipe.'},{q:'What happens if I use cold butter?',a:'Cold butter cannot be properly creamed to incorporate air, resulting in a denser cake. Always use room-temperature butter unless specified otherwise.'}], conclusion:"Understanding the science of baking doesn't diminish its magic â€” it enhances it. When you know why each ingredient and technique matters, you bake with greater confidence and creativity." },
  { id:6, slug:'knife-skills-home-cook', title:'Knife Skills Every Home Cook Needs to Master', category:'Techniques', date:'November 5, 2024', img:'https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=900&q=80', inlineImg:'https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=800&q=80', excerpt:'Knife skills affect not just speed and efficiency but the actual quality of your finished dishes. Master the pinch grip, claw grip, and essential cuts that every cook needs.', content:`<p>Of all the skills a cook can develop, knife skills are the most foundational. They affect not just speed and efficiency but the actual quality of your finished dishes. Evenly cut vegetables cook at the same rate, ensuring consistent texture throughout a dish.</p><h3>Choosing and Caring for Your Knife</h3><p>One good knife is far better than a drawer full of mediocre ones. For most home cooks, a quality 8-inch chef's knife will handle 90% of all cutting tasks. A sharp knife is dramatically safer than a dull one â€” it requires less force, meaning more control. Hone your knife with a steel before each use and have it professionally sharpened several times a year.</p><h3>The Foundation: Proper Grip</h3><p>Most people hold a knife incorrectly with a hammer grip. The proper technique is the pinch grip â€” your thumb and the side of your index finger pinch the base of the blade itself, above the handle. Your other three fingers wrap around the handle. This gives far more control and reduces hand fatigue.</p><p>The other hand uses the claw grip: curl fingertips under so knuckles face forward, and let the flat side of the blade rest against your knuckles as you cut. Your knuckles act as a guide, keeping the blade away from your fingertips.</p><h3>Essential Cutting Techniques</h3><p>The dice begins with cutting your ingredient into uniform planks, then into sticks (batonnet), then crosswise into cubes. Small dice is 1/4 inch, medium 1/2 inch, large 3/4 inch. Uniformity is everything. The julienne produces thin matchstick strips. The chiffonade is for leafy herbs â€” stack, roll, and slice crosswise into thin ribbons. The rocking chop is for herbs and garlic.</p>`, takeaways:['Invest in one excellent chef\'s knife rather than many mediocre ones','Keep your knife sharp â€” a dull knife is more dangerous','Master the pinch grip for control and the claw grip for safety','Uniform cuts ensure even cooking','Practice on affordable vegetables like onions and carrots'], faqs:[{q:'How often should I sharpen my knife?',a:'Hone with a steel before each use. Have professionally sharpened or use a whetstone 2-4 times per year.'},{q:'What is the difference between honing and sharpening?',a:'Honing realigns the edge without removing metal. Sharpening removes metal to create a new edge. Both are necessary.'},{q:'What cutting board material is best?',a:'Wood and plastic are both excellent. Avoid glass and ceramic boards which will quickly dull your knife.'}], conclusion:"Great knife skills are learned through deliberate practice. Slow down, focus on grip and technique, and work with intention. The speed will come naturally over time." },
];
let blogs = JSON.parse(localStorage.getItem('mk-blogs') || 'null') || JSON.parse(JSON.stringify(defaultBlogs));

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NAVIGATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showSection(name) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
  document.getElementById('section-' + name).classList.add('active');
  const navEl = document.getElementById('nav-' + name);
  if (navEl) navEl.classList.add('active');
  window.scrollTo(0, 0);
  // Update hash for blog/recipe detail
  if (name === 'blogs' || name === 'home' || name === 'recipes' || name === 'about' || name === 'contact') {
    history.pushState({}, '', '#' + name);
  }
}

function openRecipeDetail(idx) {
  currentRecipeIndex = idx;
  const r = recipes[idx];
  document.getElementById('rd-img').src = r.img;
  document.getElementById('rd-img').alt = r.name;
  document.getElementById('rd-tag').textContent = r.tag;
  document.getElementById('rd-name').innerText = r.name;
  document.getElementById('rd-time').textContent = r.time;
  document.getElementById('rd-servings').textContent = r.servings;
  document.getElementById('rd-content').innerHTML = r.content || '<p>No content added yet. Click Edit to add recipe content.</p>';
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
  document.getElementById('section-recipe-detail').classList.add('active');
  document.getElementById('nav-recipes').classList.add('active');
  window.scrollTo(0, 0);
}

function openBlogDetail(idx) {
  currentBlogIndex = idx;
  const b = blogs[idx];
  document.getElementById('bd-img').src = b.img;
  document.getElementById('bd-img').alt = b.title;
  document.getElementById('bd-category').textContent = b.category;
  document.getElementById('bd-date').textContent = b.date;
  document.getElementById('bd-title').innerText = b.title;
  document.getElementById('bd-content').innerHTML = b.content || '';
  document.getElementById('bd-inline-img').src = b.inlineImg || '';
  document.getElementById('bd-conclusion').innerText = b.conclusion || '';
  document.getElementById('bd-url-bar').textContent = 'mariaskitchen.com/blogs/' + b.slug;
  history.pushState({}, '', '#blog/' + b.slug);

  // Takeaways
  const tul = document.getElementById('bd-takeaways');
  tul.innerHTML = (b.takeaways || []).map(t => `<li>${t}</li>`).join('');

  // FAQs
  const fdiv = document.getElementById('bd-faqs');
  fdiv.innerHTML = (b.faqs || []).map((f, fi) => `
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq('bdfaq-${fi}')">
        <span>${f.q}</span><span class="faq-icon" id="bdfaq-icon-${fi}">+</span>
      </div>
      <div class="faq-a" id="bdfaq-${fi}">${f.a}</div>
    </div>`).join('');

  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
  document.getElementById('section-blog-detail').classList.add('active');
  document.getElementById('nav-blogs').classList.add('active');
  window.scrollTo(0, 0);
}

function toggleFaq(id) {
  const a = document.getElementById(id);
  const iconId = id.replace('bdfaq-', 'bdfaq-icon-');
  const icon = document.getElementById(iconId);
  a.classList.toggle('open');
  if (icon) icon.textContent = a.classList.contains('open') ? 'âˆ’' : '+';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ADMIN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleAdminLogin() {
  if (isAdmin) { logout(); return; }
  document.getElementById('admin-login-modal').classList.add('open');
  setTimeout(() => document.getElementById('admin-username').focus(), 100);
}
function closeAdminLogin() {
  document.getElementById('admin-login-modal').classList.remove('open');
  document.getElementById('admin-username').value = '';
  document.getElementById('admin-password').value = '';
  document.getElementById('login-error').style.display = 'none';
}
function attemptLogin() {
  const u = document.getElementById('admin-username').value.trim();
  const p = document.getElementById('admin-password').value;
  if (u === ADMIN_CREDS.username && p === ADMIN_CREDS.password) {
    isAdmin = true;
    document.body.classList.add('admin-mode');
    document.getElementById('admin-nav-btn').textContent = 'Logout';
    document.getElementById('blog-list-edit-bar').style.display = 'flex';
    closeAdminLogin();
    showToast('Welcome back, Maria! ğŸ‘‹ Admin mode active.');
  } else {
    document.getElementById('login-error').style.display = 'block';
  }
}
function logout() {
  isAdmin = false;
  document.body.classList.remove('admin-mode');
  document.getElementById('admin-nav-btn').textContent = 'Admin';
  document.getElementById('blog-list-edit-bar').style.display = 'none';
  // Make sure all contenteditable fields are disabled
  document.querySelectorAll('[contenteditable="true"]').forEach(el => el.setAttribute('contenteditable', 'false'));
  showToast('Logged out successfully.');
}
function requireAdmin() {
  if (!isAdmin) { showToast('Please login as admin first.'); return false; }
  return true;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER FUNCTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderFeatured() {
  const grid = document.getElementById('featured-grid');
  const featured = recipes.slice(0, 3);
  grid.innerHTML = featured.map((r, i) => `
    <div class="recipe-card recipe-card-clickable" onclick="openRecipeDetail(${i})">
      <img class="recipe-img" src="${r.img}" alt="${r.name}" onerror="this.src='https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=500&q=80'">
      <div class="recipe-body">
        <span class="recipe-tag">${r.tag}</span>
        <h3>${r.name}</h3>
        <p>${r.desc}</p>
        <div class="recipe-meta"><span>â± <strong>${r.time}</strong></span><span>ğŸ‘¤ <strong>${r.servings} servings</strong></span></div>
      </div>
    </div>`).join('');
}

function renderRecipes() {
  const grid = document.getElementById('recipes-grid');
  grid.innerHTML = recipes.map((r, i) => `
    <div class="recipe-card recipe-card-clickable" onclick="openRecipeDetail(${i})">
      <img class="recipe-img" src="${r.img}" alt="${r.name}" onerror="this.src='https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=500&q=80'">
      <div class="recipe-body">
        <span class="recipe-tag">${r.tag}</span>
        <h3>${r.name}</h3>
        <p>${r.desc}</p>
        <div class="recipe-meta"><span>â± <strong>${r.time}</strong></span><span>ğŸ‘¤ <strong>${r.servings} servings</strong></span></div>
        <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap;" class="edit-bar recipe-admin-actions">
          <button class="eb-btn eb-edit" onclick="event.stopPropagation();openEditRecipeModal(${i})">âœï¸ Edit</button>
          <button class="eb-btn eb-delete" onclick="event.stopPropagation();deleteRecipe(${i})">ğŸ—‘</button>
        </div>
      </div>
    </div>`).join('');
}

function renderBlogs() {
  const grid = document.getElementById('blogs-grid');
  document.getElementById('blog-count-label').textContent = `(${blogs.length} articles)`;
  grid.innerHTML = blogs.map((b, i) => `
    <div class="blog-list-card">
      <img class="blog-list-card-img" src="${b.img}" alt="${b.title}" onclick="openBlogDetail(${i})" onerror="this.src='https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=900&q=80'">
      <div class="blog-list-card-body">
        <div class="blog-list-card-meta">
          <span class="blog-category">${b.category}</span>
          <span class="blog-date">${b.date}</span>
        </div>
        <h3 onclick="openBlogDetail(${i})">${b.title}</h3>
        <p>${b.excerpt || ''}</p>
        <button class="blog-read-more" onclick="openBlogDetail(${i})">Read Article â†’</button>
        <div class="edit-bar" style="margin-top:12px;" id="blog-card-edit-${b.id}">
          <button class="eb-btn eb-edit" onclick="openEditBlogModal(${i})">âœï¸ Edit</button>
          <button class="eb-btn eb-delete" onclick="deleteBlog(${i})">ğŸ—‘ Delete</button>
        </div>
      </div>
    </div>`).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HOME EDIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let homeBackup = {};
function startHomeEdit() {
  if (!requireAdmin()) return;
  homeBackup = {
    heroTitle: document.getElementById('hero-title').innerHTML,
    heroSub: document.getElementById('hero-subtitle').innerText,
    featH: document.getElementById('featured-heading').innerText,
    featS: document.getElementById('featured-sub').innerText,
  };
  ['hero-title','hero-subtitle','featured-heading','featured-sub'].forEach(id => document.getElementById(id).setAttribute('contenteditable','true'));
  document.getElementById('home-save-btn').style.display = 'inline-block';
  document.getElementById('home-cancel-btn').style.display = 'inline-block';
  document.querySelector('#home-edit-bar .eb-edit').style.display = 'none';
}
function saveHomeEdit() {
  ['hero-title','hero-subtitle','featured-heading','featured-sub'].forEach(id => document.getElementById(id).setAttribute('contenteditable','false'));
  document.getElementById('home-save-btn').style.display = 'none';
  document.getElementById('home-cancel-btn').style.display = 'none';
  document.querySelector('#home-edit-bar .eb-edit').style.display = 'inline-block';
  localStorage.setItem('mk-home', JSON.stringify({
    heroTitle: document.getElementById('hero-title').innerHTML,
    heroSub: document.getElementById('hero-subtitle').innerText,
    featH: document.getElementById('featured-heading').innerText,
    featS: document.getElementById('featured-sub').innerText,
  }));
  showToast('Home section saved!');
}
function cancelHomeEdit() {
  document.getElementById('hero-title').innerHTML = homeBackup.heroTitle;
  document.getElementById('hero-subtitle').innerText = homeBackup.heroSub;
  document.getElementById('featured-heading').innerText = homeBackup.featH;
  document.getElementById('featured-sub').innerText = homeBackup.featS;
  ['hero-title','hero-subtitle','featured-heading','featured-sub'].forEach(id => document.getElementById(id).setAttribute('contenteditable','false'));
  document.getElementById('home-save-btn').style.display = 'none';
  document.getElementById('home-cancel-btn').style.display = 'none';
  document.querySelector('#home-edit-bar .eb-edit').style.display = 'inline-block';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RECIPES INTRO EDIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let riBackup = {};
function startRecipesIntroEdit() {
  if (!requireAdmin()) return;
  riBackup = { h: document.getElementById('recipes-heading').innerText, p: document.getElementById('recipes-subheading').innerText };
  document.getElementById('recipes-heading').setAttribute('contenteditable','true');
  document.getElementById('recipes-subheading').setAttribute('contenteditable','true');
  document.getElementById('recipes-intro-save').style.display = 'inline-block';
  document.getElementById('recipes-intro-cancel').style.display = 'inline-block';
  document.querySelector('[onclick="startRecipesIntroEdit()"]').style.display = 'none';
}
function saveRecipesIntro() {
  document.getElementById('recipes-heading').setAttribute('contenteditable','false');
  document.getElementById('recipes-subheading').setAttribute('contenteditable','false');
  document.getElementById('recipes-intro-save').style.display = 'none';
  document.getElementById('recipes-intro-cancel').style.display = 'none';
  document.querySelector('[onclick="startRecipesIntroEdit()"]').style.display = 'inline-block';
  localStorage.setItem('mk-recipes-intro', JSON.stringify({ h: document.getElementById('recipes-heading').innerText, p: document.getElementById('recipes-subheading').innerText }));
  showToast('Recipes heading saved!');
}
function cancelRecipesIntro() {
  document.getElementById('recipes-heading').innerText = riBackup.h;
  document.getElementById('recipes-subheading').innerText = riBackup.p;
  document.getElementById('recipes-heading').setAttribute('contenteditable','false');
  document.getElementById('recipes-subheading').setAttribute('contenteditable','false');
  document.getElementById('recipes-intro-save').style.display = 'none';
  document.getElementById('recipes-intro-cancel').style.display = 'none';
  document.querySelector('[onclick="startRecipesIntroEdit()"]').style.display = 'inline-block';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RECIPE MODAL (Add / Edit)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openAddRecipeModal() {
  if (!requireAdmin()) return;
  editingRecipeIndex = -1;
  document.getElementById('recipe-modal-title').textContent = 'Add New Recipe';
  ['rm-name','rm-tag','rm-time','rm-servings','rm-img','rm-desc','rm-content-text','rm-content-html'].forEach(id => document.getElementById(id).value = '');
  document.getElementById('recipe-modal').classList.add('open');
}
function openEditRecipeModal(idx) {
  if (!requireAdmin()) return;
  editingRecipeIndex = idx;
  const r = recipes[idx];
  document.getElementById('recipe-modal-title').textContent = 'Edit Recipe';
  document.getElementById('rm-name').value = r.name;
  document.getElementById('rm-tag').value = r.tag;
  document.getElementById('rm-time').value = r.time;
  document.getElementById('rm-servings').value = r.servings;
  document.getElementById('rm-img').value = r.img;
  document.getElementById('rm-desc').value = r.desc;
  document.getElementById('rm-content-html').value = r.content || '';
  document.getElementById('rm-content-text').value = '';
  document.getElementById('recipe-modal').classList.add('open');
}
function closeRecipeModal() { document.getElementById('recipe-modal').classList.remove('open'); }
function saveRecipeModal() {
  const name = document.getElementById('rm-name').value.trim();
  if (!name) { alert('Please enter a recipe name.'); return; }
  const htmlContent = document.getElementById('rm-content-html').value.trim();
  const textContent = document.getElementById('rm-content-text').value.trim();
  let content = htmlContent;
  if (!content && textContent) {
    content = textContent.split('\n\n').map(block => {
      if (block.startsWith('## ')) return '<h3>' + block.slice(3) + '</h3>';
      if (block.startsWith('- ')) {
        const items = block.split('\n').map(l => '<li>' + l.slice(2) + '</li>').join('');
        return '<ul>' + items + '</ul>';
      }
      return '<p>' + block.replace(/\n/g, '<br>') + '</p>';
    }).join('');
  }
  const recipe = {
    name, tag: document.getElementById('rm-tag').value.trim() || 'General',
    time: document.getElementById('rm-time').value.trim() || 'â€”',
    servings: document.getElementById('rm-servings').value.trim() || 'â€”',
    img: document.getElementById('rm-img').value.trim() || 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=500&q=80',
    desc: document.getElementById('rm-desc').value.trim(),
    content: content || '<p>Click Edit to add recipe content.</p>',
  };
  if (editingRecipeIndex >= 0) {
    recipes[editingRecipeIndex] = recipe;
    showToast('Recipe updated!');
  } else {
    recipes.unshift(recipe);
    showToast('Recipe added! ğŸ‰');
  }
  localStorage.setItem('mk-recipes', JSON.stringify(recipes));
  closeRecipeModal();
  renderRecipes();
  renderFeatured();
}
function deleteRecipe(idx) {
  if (!requireAdmin()) return;
  if (!confirm('Delete this recipe?')) return;
  recipes.splice(idx, 1);
  localStorage.setItem('mk-recipes', JSON.stringify(recipes));
  renderRecipes();
  renderFeatured();
  showToast('Recipe deleted.');
}
function deleteCurrentRecipe() {
  if (!requireAdmin()) return;
  if (currentRecipeIndex < 0) return;
  if (!confirm('Delete this recipe?')) return;
  recipes.splice(currentRecipeIndex, 1);
  localStorage.setItem('mk-recipes', JSON.stringify(recipes));
  renderRecipes();
  renderFeatured();
  showSection('recipes');
  showToast('Recipe deleted.');
}

// Recipe Detail inline edit
let rdBackup = {};
function startRdEdit() {
  if (!requireAdmin()) return;
  rdBackup = { name: document.getElementById('rd-name').innerText, content: document.getElementById('rd-content').innerHTML };
  document.getElementById('rd-name').setAttribute('contenteditable','true');
  document.getElementById('rd-content').setAttribute('contenteditable','true');
  document.getElementById('rd-save-btn').style.display = 'inline-block';
  document.getElementById('rd-cancel-btn').style.display = 'inline-block';
  document.querySelector('[onclick="startRdEdit()"]').style.display = 'none';
}
function saveRdEdit() {
  document.getElementById('rd-name').setAttribute('contenteditable','false');
  document.getElementById('rd-content').setAttribute('contenteditable','false');
  document.getElementById('rd-save-btn').style.display = 'none';
  document.getElementById('rd-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startRdEdit()"]').style.display = 'inline-block';
  if (currentRecipeIndex >= 0) {
    recipes[currentRecipeIndex].name = document.getElementById('rd-name').innerText;
    recipes[currentRecipeIndex].content = document.getElementById('rd-content').innerHTML;
    localStorage.setItem('mk-recipes', JSON.stringify(recipes));
    renderRecipes(); renderFeatured();
  }
  showToast('Recipe content saved!');
}
function cancelRdEdit() {
  document.getElementById('rd-name').innerText = rdBackup.name;
  document.getElementById('rd-content').innerHTML = rdBackup.content;
  document.getElementById('rd-name').setAttribute('contenteditable','false');
  document.getElementById('rd-content').setAttribute('contenteditable','false');
  document.getElementById('rd-save-btn').style.display = 'none';
  document.getElementById('rd-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startRdEdit()"]').style.display = 'inline-block';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BLOG MODAL (Add / Edit)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openAddBlogModal() {
  if (!requireAdmin()) return;
  editingBlogIndex = -1;
  document.getElementById('blog-modal-title').textContent = 'Add New Blog Post';
  ['bm-title','bm-category','bm-img','bm-inline-img','bm-takeaways','bm-conclusion','bm-content-text','bm-content-html'].forEach(id => document.getElementById(id).value = '');
  document.getElementById('blog-modal').classList.add('open');
}
function openEditBlogModal(idx) {
  if (!requireAdmin()) return;
  editingBlogIndex = idx;
  const b = blogs[idx];
  document.getElementById('blog-modal-title').textContent = 'Edit Blog Post';
  document.getElementById('bm-title').value = b.title;
  document.getElementById('bm-category').value = b.category;
  document.getElementById('bm-img').value = b.img;
  document.getElementById('bm-inline-img').value = b.inlineImg || '';
  document.getElementById('bm-takeaways').value = (b.takeaways || []).join('\n');
  document.getElementById('bm-conclusion').value = b.conclusion || '';
  document.getElementById('bm-content-html').value = b.content || '';
  document.getElementById('bm-content-text').value = '';
  document.getElementById('blog-modal').classList.add('open');
}
function closeBlogModal() { document.getElementById('blog-modal').classList.remove('open'); }
function saveBlogModal() {
  const title = document.getElementById('bm-title').value.trim();
  if (!title) { alert('Please enter a blog title.'); return; }
  const htmlContent = document.getElementById('bm-content-html').value.trim();
  const textContent = document.getElementById('bm-content-text').value.trim();
  let content = htmlContent;
  if (!content && textContent) {
    content = textContent.split('\n\n').map(block => {
      if (block.startsWith('## ')) return '<h3>' + block.slice(3) + '</h3>';
      return '<p>' + block.replace(/\n/g, '<br>') + '</p>';
    }).join('');
  }
  const slug = title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');
  const takeaways = document.getElementById('bm-takeaways').value.trim().split('\n').filter(t => t.trim());
  const excerpt = content.replace(/<[^>]+>/g,'').substring(0, 160) + '...';
  const blog = {
    id: editingBlogIndex >= 0 ? blogs[editingBlogIndex].id : Date.now(),
    slug: editingBlogIndex >= 0 ? blogs[editingBlogIndex].slug : slug,
    title,
    category: document.getElementById('bm-category').value.trim() || 'General',
    date: editingBlogIndex >= 0 ? blogs[editingBlogIndex].date : new Date().toLocaleDateString('en-US', { year:'numeric', month:'long', day:'numeric' }),
    img: document.getElementById('bm-img').value.trim() || 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=900&q=80',
    inlineImg: document.getElementById('bm-inline-img').value.trim() || 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800&q=80',
    excerpt,
    content: content || '<p>Click Edit Blog to add content.</p>',
    takeaways: takeaways.length ? takeaways : ['Key insight 1', 'Key insight 2', 'Key insight 3'],
    faqs: editingBlogIndex >= 0 ? blogs[editingBlogIndex].faqs : [
      { q: 'Your first FAQ question?', a: 'Your answer here.' },
      { q: 'Another question?', a: 'Answer it here.' }
    ],
    conclusion: document.getElementById('bm-conclusion').value.trim() || 'Wrap up your blog with a memorable closing thought.',
  };
  if (editingBlogIndex >= 0) {
    blogs[editingBlogIndex] = blog;
    showToast('Blog updated!');
    // If we're on the detail page, refresh it
    if (document.getElementById('section-blog-detail').classList.contains('active')) {
      openBlogDetail(editingBlogIndex);
    }
  } else {
    blogs.unshift(blog);
    showToast('Blog published! ğŸ‰');
  }
  localStorage.setItem('mk-blogs', JSON.stringify(blogs));
  closeBlogModal();
  renderBlogs();
}
function deleteBlog(idx) {
  if (!requireAdmin()) return;
  if (!confirm('Delete this blog post?')) return;
  blogs.splice(idx, 1);
  localStorage.setItem('mk-blogs', JSON.stringify(blogs));
  renderBlogs();
  showToast('Blog deleted.');
}
function deleteCurrentBlog() {
  if (!requireAdmin()) return;
  if (currentBlogIndex < 0) return;
  if (!confirm('Delete this blog post?')) return;
  blogs.splice(currentBlogIndex, 1);
  localStorage.setItem('mk-blogs', JSON.stringify(blogs));
  renderBlogs();
  showSection('blogs');
  showToast('Blog deleted.');
}

// Blog Detail inline edit
let bdBackup = {};
function startBdEdit() {
  if (!requireAdmin()) return;
  bdBackup = { title: document.getElementById('bd-title').innerText, content: document.getElementById('bd-content').innerHTML, conclusion: document.getElementById('bd-conclusion').innerText };
  document.getElementById('bd-title').setAttribute('contenteditable','true');
  document.getElementById('bd-content').setAttribute('contenteditable','true');
  document.getElementById('bd-conclusion').setAttribute('contenteditable','true');
  document.getElementById('bd-save-btn').style.display = 'inline-block';
  document.getElementById('bd-cancel-btn').style.display = 'inline-block';
  document.querySelector('[onclick="startBdEdit()"]').style.display = 'none';
}
function saveBdEdit() {
  document.getElementById('bd-title').setAttribute('contenteditable','false');
  document.getElementById('bd-content').setAttribute('contenteditable','false');
  document.getElementById('bd-conclusion').setAttribute('contenteditable','false');
  document.getElementById('bd-save-btn').style.display = 'none';
  document.getElementById('bd-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startBdEdit()"]').style.display = 'inline-block';
  if (currentBlogIndex >= 0) {
    blogs[currentBlogIndex].title = document.getElementById('bd-title').innerText;
    blogs[currentBlogIndex].content = document.getElementById('bd-content').innerHTML;
    blogs[currentBlogIndex].conclusion = document.getElementById('bd-conclusion').innerText;
    localStorage.setItem('mk-blogs', JSON.stringify(blogs));
    renderBlogs();
  }
  showToast('Blog saved!');
}
function cancelBdEdit() {
  document.getElementById('bd-title').innerText = bdBackup.title;
  document.getElementById('bd-content').innerHTML = bdBackup.content;
  document.getElementById('bd-conclusion').innerText = bdBackup.conclusion;
  ['bd-title','bd-content','bd-conclusion'].forEach(id => document.getElementById(id).setAttribute('contenteditable','false'));
  document.getElementById('bd-save-btn').style.display = 'none';
  document.getElementById('bd-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startBdEdit()"]').style.display = 'inline-block';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ABOUT EDIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let aboutBackup = {};
function startAboutEdit() {
  if (!requireAdmin()) return;
  const ids = ['about-name','about-bio1','about-bio2','about-bio3'];
  ids.forEach(id => { aboutBackup[id] = document.getElementById(id).innerText; document.getElementById(id).setAttribute('contenteditable','true'); });
  document.getElementById('about-save-btn').style.display = 'inline-block';
  document.getElementById('about-cancel-btn').style.display = 'inline-block';
  document.querySelector('[onclick="startAboutEdit()"]').style.display = 'none';
}
function saveAbout() {
  const ids = ['about-name','about-bio1','about-bio2','about-bio3'];
  ids.forEach(id => document.getElementById(id).setAttribute('contenteditable','false'));
  document.getElementById('about-save-btn').style.display = 'none';
  document.getElementById('about-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startAboutEdit()"]').style.display = 'inline-block';
  const data = {};
  ids.forEach(id => data[id] = document.getElementById(id).innerText);
  localStorage.setItem('mk-about', JSON.stringify(data));
  showToast('Bio saved!');
}
function cancelAbout() {
  const ids = ['about-name','about-bio1','about-bio2','about-bio3'];
  ids.forEach(id => { document.getElementById(id).innerText = aboutBackup[id]; document.getElementById(id).setAttribute('contenteditable','false'); });
  document.getElementById('about-save-btn').style.display = 'none';
  document.getElementById('about-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startAboutEdit()"]').style.display = 'inline-block';
}

let statsBackup = {};
function startStatsEdit() {
  if (!requireAdmin()) return;
  ['stat1','stat2','stat3'].forEach(id => { statsBackup[id] = document.getElementById(id).innerText; document.getElementById(id).setAttribute('contenteditable','true'); });
  document.getElementById('stats-save-btn').style.display = 'inline-block';
  document.getElementById('stats-cancel-btn').style.display = 'inline-block';
  document.querySelector('[onclick="startStatsEdit()"]').style.display = 'none';
}
function saveStats() {
  ['stat1','stat2','stat3'].forEach(id => document.getElementById(id).setAttribute('contenteditable','false'));
  document.getElementById('stats-save-btn').style.display = 'none';
  document.getElementById('stats-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startStatsEdit()"]').style.display = 'inline-block';
  const data = {};
  ['stat1','stat2','stat3'].forEach(id => data[id] = document.getElementById(id).innerText);
  localStorage.setItem('mk-stats', JSON.stringify(data));
  showToast('Stats saved!');
}
function cancelStats() {
  ['stat1','stat2','stat3'].forEach(id => { document.getElementById(id).innerText = statsBackup[id]; document.getElementById(id).setAttribute('contenteditable','false'); });
  document.getElementById('stats-save-btn').style.display = 'none';
  document.getElementById('stats-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startStatsEdit()"]').style.display = 'inline-block';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONTACT EDIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let contactBackup = {};
function startContactEdit() {
  if (!requireAdmin()) return;
  const ids = ['contact-heading','contact-desc','contact-email','contact-social','contact-location'];
  ids.forEach(id => { contactBackup[id] = document.getElementById(id).innerText; document.getElementById(id).setAttribute('contenteditable','true'); });
  document.getElementById('contact-save-btn').style.display = 'inline-block';
  document.getElementById('contact-cancel-btn').style.display = 'inline-block';
  document.querySelector('[onclick="startContactEdit()"]').style.display = 'none';
}
function saveContact() {
  const ids = ['contact-heading','contact-desc','contact-email','contact-social','contact-location'];
  ids.forEach(id => document.getElementById(id).setAttribute('contenteditable','false'));
  document.getElementById('contact-save-btn').style.display = 'none';
  document.getElementById('contact-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startContactEdit()"]').style.display = 'inline-block';
  const data = {};
  ids.forEach(id => data[id] = document.getElementById(id).innerText);
  localStorage.setItem('mk-contact', JSON.stringify(data));
  showToast('Contact info saved!');
}
function cancelContact() {
  const ids = ['contact-heading','contact-desc','contact-email','contact-social','contact-location'];
  ids.forEach(id => { document.getElementById(id).innerText = contactBackup[id]; document.getElementById(id).setAttribute('contenteditable','false'); });
  document.getElementById('contact-save-btn').style.display = 'none';
  document.getElementById('contact-cancel-btn').style.display = 'none';
  document.querySelector('[onclick="startContactEdit()"]').style.display = 'inline-block';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONTACT FORM
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function submitContact() { showToast('Message sent! Maria will get back to you soon. ğŸ’Œ'); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SHARED EDITOR TAB SWITCHER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function switchTab(event, panelId) {
  const modal = event.target.closest('.modal');
  modal.querySelectorAll('.editor-tab').forEach(t => t.classList.remove('active'));
  modal.querySelectorAll('.editor-panel').forEach(p => p.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById(panelId).classList.add('active');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TOAST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 3000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LOAD SAVED DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loadSavedData() {
  const home = JSON.parse(localStorage.getItem('mk-home') || 'null');
  if (home) {
    if (home.heroTitle) document.getElementById('hero-title').innerHTML = home.heroTitle;
    if (home.heroSub) document.getElementById('hero-subtitle').innerText = home.heroSub;
    if (home.featH) document.getElementById('featured-heading').innerText = home.featH;
    if (home.featS) document.getElementById('featured-sub').innerText = home.featS;
  }
  const ri = JSON.parse(localStorage.getItem('mk-recipes-intro') || 'null');
  if (ri) {
    if (ri.h) document.getElementById('recipes-heading').innerText = ri.h;
    if (ri.p) document.getElementById('recipes-subheading').innerText = ri.p;
  }
  const about = JSON.parse(localStorage.getItem('mk-about') || 'null');
  if (about) Object.keys(about).forEach(id => { if (document.getElementById(id)) document.getElementById(id).innerText = about[id]; });
  const stats = JSON.parse(localStorage.getItem('mk-stats') || 'null');
  if (stats) Object.keys(stats).forEach(id => { if (document.getElementById(id)) document.getElementById(id).innerText = stats[id]; });
  const contact = JSON.parse(localStorage.getItem('mk-contact') || 'null');
  if (contact) Object.keys(contact).forEach(id => { if (document.getElementById(id)) document.getElementById(id).innerText = contact[id]; });
}

// Handle hash routing for blog deep links
function handleHashRouting() {
  const hash = window.location.hash;
  if (hash.startsWith('#blog/')) {
    const slug = hash.slice(6);
    const idx = blogs.findIndex(b => b.slug === slug);
    if (idx >= 0) { openBlogDetail(idx); return; }
  }
  if (hash && hash !== '#') {
    const section = hash.slice(1);
    if (document.getElementById('section-' + section)) { showSection(section); return; }
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.addEventListener('DOMContentLoaded', () => {
  loadSavedData();
  renderFeatured();
  renderRecipes();
  renderBlogs();
  handleHashRouting();
});
window.addEventListener('popstate', handleHashRouting);
</script>
</body>
</html>
